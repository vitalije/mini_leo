# Config file for automatic testing at travis-ci.org

language: python

python: 3.7
cache:
    directories:
        - "$HOME/.cargo"
        - rust/target
env:
    PATH:$HOME/.cargo/bin:$PATH
    proba:
        secure: "Oz0cgpVxmsLAikhN5DCNfM6EZfkaDJQNDNDHGeZRjazRk5MCl56obvmzax6QD0Tth3kYFeb0DzYr/tNeRyfW5QUh2cHXu8FXChEhRzFtkUGTHBcQuvVLjxM5PmhOOYARKVkZ4ByaXeMprRP4O1+XV3bRuJuKQTFZPqkCrryvtM8fkqzW4H2if9Ww59rBzcMx5+YMEx9s0rP+KWRVgrrqzAz6NNfbPI52gXv5LEBalAB7hDsJkGLvnX0/DMus+ZQRovUofAmP8Juzh00V4ralSKn/Xthp/T0OfCSquHY73UWl/p2wmQD0bWSt1cZGzd+aCUmFycgqL5zZor/xfH2ZOXYHqrcgEMbJNGeY9FQgTk5l78eBBa1o21opURUD04XC4HTlf57V1pvQXXh40O68Iv8m6JbwbPCxJZk7jwvImo9SsG0v2GyKynikUjFjAtwdA9HQj4VGsS70H9l7tIXI/gtyzWOJSZhhAiNqnxv+iuv9bVeyBa06N1rQRab59CfgOh0abRnXgcmUT/MVJN74AoRW+cVQZih1X6gw+e7HAuPbzzprgMtQWdPspeHE140eV2IkaqQhARJvXHrfqh3d7B2jKxZGll4xfKa2vhDZ6UyZOFEgSd3yJ4/dn1g5M0B/WVvMijqXnHvXThahiNjpWmTBgi7OVz/2ubbSv3hsWoA="
# Command to install dependencies, e.g. pip install -r requirements.txt --use-mirrors
install:
  - sh rust-installer.sh
  
# Command to run tests, e.g. python setup.py test
script:
  - export PATH=$HOME/.cargo/bin:$PATH
  - echo $proba
  - ls $HOME/.cargo/bin
  - python build_wheel.py

# Assuming you have installed the travis-ci CLI tool, after you
# create the Github repo and add it to Travis, run the
# following command to finish PyPI deployment setup:
# $ travis encrypt --add deploy.password
deploy:
  provider: pypi
  distributions: sdist bdist_wheel
  user: vitalije
  password:
    secure:  "k4nVOlvPjeB8i4PpSIJAcGLRQBHN5Qlxo36AGoFdAnX11qnIoXdbAZAZSbJJCUmqRXoCa56aRMTItQpq9W6epcECkEwoiu29L2Be6REksrFTFeuahCEAOGWtM2Ynpk07Rf6AxNth70J+IowYpsixZ7fLS2Q02jUOYYnpytRF+icT5+CsmuKGdOXCLvlIUe9geY+JnUEOKsfVgr2e5uOZHItxxmHZx0BB5RyGcZogUmKiTuAxpB8EfudNucyaRLFFtIfmZonx0wCZJ+RqbA040XLJHAWdoEuL2P7HPIqbklMYgOfk6579EVzHSJXa/N6wKaDXeHb8SWpWX/1iy4ef6AW1VEipqJxIZEBiFT26zfVcXY7HboQ5xjskml4y/V1XOdYZZ4lYL9uZ4kxt9cSEy0wvpLOSdksZRS2jgmvmaLIlPZD8x1V3T6PnuhH7aLIBNMcuAXI0xyQR1xHArK3sb9OKsx4krLn8Zq9x4+QmLNN+Gk5g2Hb3Sa6vQL3LEB0dk6SF1QHVBqpDaYr4QL57xqxsfjFq3PaleDTGvd2Pno5h3d5TIwgGf72j0IEhCpLqESBvNMbucxg4cH1ZqmUoaRQJOHdtOz9BoG8QnhHVUxG1iSoMUi8rCiDPYGGfLrE+7B5pZVG0Z7cqHxsU/Y0N47GTz9Gutzx5ibYnfAr+2+4="
  on:
    tags: true
    repo: vitalije/mini_leo
    python: 3.7
